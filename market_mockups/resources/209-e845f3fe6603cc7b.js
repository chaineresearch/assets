(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{46803:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(85893),r=n(60658),s=(n(67294),n(17683)),c=n.n(s);function i(e){var t=e.accountId,n=e.className,s=e.image;if(!t)return null;var i=(0,r.toDataUrl)(t);return(0,a.jsx)("img",{className:"".concat(n||""," ").concat(c().blockies," "),src:s||i,alt:"Blockies","aria-hidden":"true"})}},79479:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ke}});var a=n(47568),r=n(34051),s=n.n(r),c=n(85893),i=n(67294),o=n(229),u=n(38099),l=n(32656),d=n(26655),f=n(70242),p=n(49973),v=n(70758),x=n.n(v),m=n(79401),h=n(21485),_=n(42228);function b(e){var t=e.accountId,n=(0,_.c8)().appConfig,r=(0,p.o)().chainIds,o=(0,i.useState)(),u=o[0],v=o[1],b=(0,i.useState)(!1),g=b[0],k=b[1],j=(0,i.useState)(1),w=j[0],I=j[1],N=(0,i.useState)(),y=N[0],E=N[1],Z=(0,i.useState)(),S=Z[0],P=Z[1],C=(0,m.U)(),F=(0,i.useCallback)(function(){var e=(0,a.Z)(s().mark((function e(t,n,a,r,c,i){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,(0,f.eg)(t.toLowerCase(),n,i,a,r,c);case 4:o=e.sent,v(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.KF.error(e.t0.message);case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t,n,a,r,s,c){return e.apply(this,arguments)}}(),[]);return(0,i.useEffect)((function(){u&&u.totalPages<w&&I(1)}),[w,u]),(0,i.useEffect)((function(){t&&F(t,r,w,y,S,C())}),[t,w,null===n||void 0===n?void 0:n.metadataCacheUri,r,C,F,y,S]),t?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.Z,{serviceType:y,setServiceType:E,accessType:S,setAccessType:P,className:x().filters}),(0,c.jsx)(d.Z,{assets:null===u||void 0===u?void 0:u.results,isLoading:g,showPagination:!0,page:null===u||void 0===u?void 0:u.page,totalPages:null===u||void 0===u?void 0:u.totalPages,onPageChange:function(e){I(e)},className:x().assets,noPublisher:!0})]}):(0,c.jsx)("div",{children:"Please connect your Web3 wallet."})}var g=n(92564),k=n(28614),j=n(52693),w=n(36910),I=n(26042),N=n(46879),y=n(45480),E=n(9669),Z=n.n(E),S=n(47457),P=n(3283),C=n.n(P),F=(0,i.createContext)({});var T=function(){return(0,i.useContext)(F)},H=function(e){var t=e.accountId,n=e.accountEns,r=e.children,o=(0,p.o)().chainIds,u=(0,_.c8)().appConfig,d=(0,i.useState)(),v=d[0],x=d[1];(0,i.useEffect)((function(){var e=C().utils.isAddress(t);x(e)}),[t]);var m=(0,i.useState)(),h=m[0],b=m[1];(0,i.useEffect)((function(){n&&l.KF.log("[profile] ENS name found for ".concat(t,":"),n)}),[t,n]),(0,i.useEffect)((function(){if(t&&v){var e=Z().CancelToken.source();return function(){r.apply(this,arguments)}(),function(){e.cancel()}}function r(){return(r=(0,a.Z)(s().mark((function a(){var r,c,i,o,u,d,f,p;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return b({name:n||(0,y.XC)(t),accountEns:n}),a.next=3,(0,S.Z)(t,e.token);case 3:(r=a.sent)?(c=r.name,i=r.emoji,o=r.description,u=r.image,d=r.links,f="".concat(i||""," ").concat(c||(0,y.XC)(t)),p={name:f,image:u,description:o,links:d},b((function(e){return(0,I.Z)({},e,p)})),l.KF.log("[profile] Found and set 3box profile.",p)):l.KF.log("[profile] No 3box profile found.");case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}b({name:null,accountEns:null,image:null,description:null,links:null})}),[t,n,v]);var g=(0,i.useState)(),k=g[0],j=g[1],w=(0,i.useState)(0),E=w[0],P=w[1];(0,i.useEffect)((function(){if(t&&v){var e=Z().CancelToken.source();return function(){n.apply(this,arguments)}(),function(){e.cancel()}}function n(){return(n=(0,a.Z)(s().mark((function n(){var a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,f.eg)(t,o,e.token);case 3:a=n.sent,j(a.results),P(a.totalResults),l.KF.log("[profile] Fetched ".concat(a.totalResults," assets."),a.results),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),l.KF.error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}}),[t,u.metadataCacheUri,o,v]);var T=(0,i.useState)(),H=T[0],U=T[1],A=(0,i.useState)(0),L=A[0],K=A[1],R=(0,i.useState)(),D=R[0],W=R[1],B=(0,i.useState)(),O=B[0],z=B[1],J=(0,i.useCallback)(function(){var e=(0,a.Z)(s().mark((function e(n){var a,r,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&o){e.next=2;break}return e.abrupt("return");case 2:return a=[],e.next=5,(0,N.xM)(t,o);case 5:for(r=e.sent,c=0;c<(null===r||void 0===r?void 0:r.length);c++)a.push(r[c].datatoken.address);return e.next=9,(0,f.gc)(a,r,o,n);case 9:i=e.sent,U(i),K(i.length),l.KF.log("[profile] Fetched ".concat(i.length," download orders."),i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,o]);(0,i.useEffect)((function(){var e=Z().CancelToken.source();function t(){return(t=(0,a.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===u||void 0===u?void 0:u.metadataCacheUri){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,W(!0),t.next=6,J(e.token);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),l.KF.log(t.t0.message);case 11:return t.prev=11,W(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))).apply(this,arguments)}if(function(){t.apply(this,arguments)}(),!O){var n=setInterval((0,a.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e.token);case 2:case"end":return t.stop()}}),t)}))),1e4);return z(n),function(){e.cancel(),clearInterval(O)}}}),[J,u.metadataCacheUri,O]);var X=(0,i.useState)(0),G=X[0],M=X[1];return(0,i.useEffect)((function(){function e(){return(e=(0,a.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.mN)(t,o);case 3:n=e.sent,M(n),l.KF.log("[profile] Fetched sales number: ".concat(n,"."),n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.KF.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}t&&0!==o.length?function(){e.apply(this,arguments)}():M(0)}),[t,o]),(0,c.jsx)(F.Provider,{value:{profile:h,assets:k,assetsTotal:E,isEthAddress:v,downloads:H,downloadsTotal:L,isDownloadsLoading:D,sales:G},children:r})},U=[{name:"Dataset",selector:function(e){return(0,c.jsx)(j.Z,{asset:e.asset})}},{name:"Network",selector:function(e){return(0,c.jsx)(w.Z,{networkId:e.networkId})}},{name:"Datatoken",selector:function(e){return e.dtSymbol}},{name:"Time",selector:function(e){return(0,c.jsx)(k.Z,{date:e.timestamp.toString(),relative:!0,isUnix:!0})}}];function A(e){var t=e.accountId,n=T(),a=n.downloads,r=n.isDownloadsLoading,s=(0,p.o)().chainIds;return t?(0,c.jsx)(g.Z,{columns:U,data:a,paginationPerPage:10,isLoading:r,emptyMessage:0===s.length?"No network selected":null}):(0,c.jsx)("div",{children:"Please connect your Web3 wallet."})}var L=n(47215),K=n(82429),R=n.n(K),D=n(10307);function W(e){var t=e.accountIdentifier,n=(0,D.$6)().accountId,a=new URL(location.href).searchParams.get("defaultTab"),r=function(e,t){var n=[{title:"Published",content:(0,c.jsx)(b,{accountId:e})},{title:"Downloads",content:(0,c.jsx)(A,{accountId:e})}],a={title:"Compute Jobs",content:(0,c.jsx)(L.Z,{})};return e===t&&n.push(a),n}(t,n),s=0;return s="ComputeJobs"===a?4:0,(0,c.jsx)(u.Z,{items:r,className:R().tabs,defaultIndex:s})}var B=n(14924),O=n(47166),z=n.n(O),J=n(28440),X=n(14911),G=n.n(X),M=z().bind(G());function q(e){var t,n=e.className,a=T().profile,r=M((0,B.Z)({links:!0},n,n));return(0,c.jsxs)("div",{className:r,children:[" \u2014 ",null===a||void 0===a||null===(t=a.links)||void 0===t?void 0:t.map((function(e){var t="Twitter"===e.name?"https://twitter.com/".concat(e.value):"GitHub"===e.name?"https://github.com/".concat(e.value):e.value.includes("http")?e.value:"//".concat(e.value);return(0,c.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",children:[e.name," ",(0,c.jsx)(J.Z,{className:G().linksExternal})]},e.name)}))]})}var $=n(75058),Q=n(41349),V=n(91838),Y=n(26558),ee=n.n(Y);function te(e){var t=e.small,n=e.label,a=e.value,r=e.icon,s=e.tooltip;return(0,c.jsxs)("div",{className:ee().unit,children:[(0,c.jsx)("div",{className:"".concat(ee().number," ").concat(t&&ee().small),children:(0,c.jsxs)(c.Fragment,{children:[r&&r,a]})}),(0,c.jsxs)("span",{className:ee().label,children:[n," ",s&&(0,c.jsx)(V.Z,{content:(0,c.jsx)($.Z,{text:s}),className:ee().tooltip})]})]})}var ne=n(99918),ae=n.n(ne),re=n(5688);function se(e){var t=e.accountId,n=(0,p.o)().chainIds,r=T(),o=r.assets,u=r.assetsTotal,d=r.sales,f=(0,i.useState)("0"),v=f[0],x=f[1];return(0,i.useEffect)((function(){function e(){return e=(0,a.Z)(s().mark((function e(){var t,n,a,r,c,i,u,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,re.K1)(o);case 3:for(t=e.sent,n=0,a=!0,r=!1,c=void 0,e.prev=6,i=t[Symbol.iterator]();!(a=(u=i.next()).done);a=!0)(null===(d=u.value)||void 0===d||null===(f=d.accessDetails)||void 0===f?void 0:f.price)&&d.stats.orders>0&&(n+=parseInt(d.accessDetails.price)*d.stats.orders);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),r=!0,c=e.t0;case 14:e.prev=14,e.prev=15,a||null==i.return||i.return();case 17:if(e.prev=17,!r){e.next=20;break}throw c;case 20:return e.finish(17);case 21:return e.finish(14);case 22:x(JSON.stringify(n)),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(0),l.KF.error(e.t1.message);case 28:case"end":return e.stop()}}),e,null,[[0,25],[6,10,14,22],[15,,17,21]])}))),e.apply(this,arguments)}o&&t&&n&&function(){e.apply(this,arguments)}()}),[o,t,n]),(0,c.jsxs)("div",{className:ae().stats,children:[(0,c.jsx)(te,{label:"Total Sales",value:(0,c.jsx)(Q.Z,{price:v,symbol:"ocean",hideApproximateSymbol:!0})}),(0,c.jsx)(te,{label:"Sale".concat(1===d?"":"s"),value:d}),(0,c.jsx)(te,{label:"Published",value:u})]})}var ce=n(16537),ie=n(93684),oe=n(82189),ue=n(46803),le=n(98860),de=n.n(le);function fe(e){var t=e.accountId,n=(0,p.o)().chainIds,a=T().profile;return(0,c.jsxs)("div",{className:de().account,children:[(0,c.jsx)("figure",{className:de().imageWrap,children:(null===a||void 0===a?void 0:a.image)?(0,c.jsx)("img",{src:null===a||void 0===a?void 0:a.image,className:de().image,width:"96",height:"96"}):t?(0,c.jsx)(ue.Z,{accountId:t,className:de().image}):(0,c.jsx)(ie.Z,{className:de().image})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:de().name,children:null===a||void 0===a?void 0:a.name}),t&&(0,c.jsxs)("code",{className:de().accountId,title:(null===a||void 0===a?void 0:a.accountEns)?t:null,children:[(null===a||void 0===a?void 0:a.accountEns)||t," ",(0,c.jsx)(oe.Z,{text:t})]}),(0,c.jsx)("p",{children:t&&n.map((function(e){return(0,c.jsx)(ce.Z,{className:de().explorer,networkId:e,path:"address/".concat(t),children:(0,c.jsx)(w.Z,{networkId:e})},e)}))})]})]})}var pe=n(91251),ve=n.n(pe),xe=function(){var e=document.getElementById("description");if(e)return e.scrollHeight>e.clientHeight},me=function(e){var t=e.url,n=e.text;return(0,c.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:n})};function he(e){var t,n=e.accountId,a=T().profile,r=(0,i.useState)(!1),s=r[0],o=r[1];return(0,c.jsxs)("div",{className:ve().grid,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(fe,{accountId:n}),(0,c.jsx)(se,{accountId:n})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)($.Z,{text:null===a||void 0===a?void 0:a.description,className:ve().description}),xe()?(0,c.jsx)("span",{className:ve().more,onClick:function(){o(!s)},children:(0,c.jsx)(me,{url:"https://www.3box.io/".concat(n),text:"Read more on 3box"})}):"",(null===a||void 0===a||null===(t=a.links)||void 0===t?void 0:t.length)>0&&(0,c.jsx)(q,{className:ve().publisherLinks})]}),(0,c.jsxs)("div",{className:ve().meta,children:["Profile data from"," ",(null===a||void 0===a?void 0:a.accountEns)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(me,{url:"https://app.ens.domains/name/".concat(a.accountEns),text:"ENS"})," ","&"," "]}),(0,c.jsx)(me,{url:"https://www.3box.io/".concat(n),text:"3Box Hub"})]})]})}function _e(e){var t=e.accountId;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(he,{accountId:t}),(0,c.jsx)(W,{accountIdentifier:t})]})}var be=n(91579),ge=n(11163);function ke(){var e=(0,ge.useRouter)(),t=(0,D.$6)(),n=t.accountId,r=t.accountEns,u=(0,i.useState)(),l=u[0],d=u[1],f=(0,i.useState)(),p=f[0],v=f[1];return(0,i.useEffect)((function(){function t(){return t=(0,a.Z)(s().mark((function t(){var a,c,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e?void 0:e.asPath){t.next=2;break}return t.abrupt("return");case 2:if("/profile"!==e.asPath){t.next=6;break}return v(r),d(n),t.abrupt("return");case 6:if(a=e.query.account,!C().utils.isAddress(a)){t.next=18;break}return d(c=a||n),t.next=12,(0,be.w)(c);case 12:if(i=t.sent){t.next=15;break}return t.abrupt("return");case 15:v(i),t.next=23;break;case 18:return v(a),t.next=21,(0,be.O)(a);case 21:o=t.sent,d(o);case 23:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n,r]),(0,i.useEffect)((function(){if(p&&"/profile"!==e.asPath){var t="/profile/".concat(p);t!==e.asPath&&e.replace(t)}}),[e,p,n]),(0,c.jsx)(o.Z,{uri:e.route,title:(0,y.XC)(l),noPageHeader:!0,children:(0,c.jsx)(H,{accountId:l,accountEns:p,children:(0,c.jsx)(_e,{accountId:l})})})}},17683:function(e){e.exports={blockies:"Blockies_blockies__fd5M0"}},98860:function(e){e.exports={account:"Account_account__77IRh",imageWrap:"Account_imageWrap__AmamZ",image:"Account_image__pSSZI",name:"Account_name__IqRxF",accountId:"Account_accountId__UStWO",explorer:"Account_explorer__wLzWx"}},26558:function(e){e.exports={number:"NumberUnit_number__EeLNT",small:"NumberUnit_small__5wF_V",label:"NumberUnit_label__yRnR7",unit:"NumberUnit_unit__ITl6k",tooltip:"NumberUnit_tooltip___BdUz"}},14911:function(e){e.exports={links:"PublisherLinks_links__AKY_0",linksExternal:"PublisherLinks_linksExternal__odjzj Publisher_linksExternal__mmI_E"}},99918:function(e){e.exports={stats:"Stats_stats___WE2_"}},91251:function(e){e.exports={grid:"Header_grid__xI_Sd Box_box__l77_J",description:"Header_description__8tHAG",publisherLinks:"Header_publisherLinks__7z_E0",more:"Header_more__IWrae",meta:"Header_meta___r1R_"}},70758:function(e){e.exports={filters:"PublishedList_filters__iXu2H",assets:"PublishedList_assets__DRuiO"}},82429:function(e){e.exports={grid:"History_grid__HmQlj",sticky:"History_sticky__G9AU6",tabs:"History_tabs__ORDwT"}}}]);