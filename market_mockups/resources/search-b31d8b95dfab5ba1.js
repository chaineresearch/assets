(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8266:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(69895)}])},69895:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return U}});var s=r(85893),n=r(67294),a=r(34051),i=r.n(a),o=r(60417),c=r(17563),l=r(83372),u=r(98443),p=r(21159),d=r(98627),g=r.n(d),f=r(47166),h=r.n(f),v=r(71026),m=r(11163);function y(e,t,r,s,n,a,i){try{var o=e[a](i),c=o.value}catch(l){return void r(l)}o.done?t(c):Promise.resolve(c).then(s,n)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var a=e.apply(t,r);function i(e){y(a,s,n,i,o,"next",e)}function o(e){y(a,s,n,i,o,"throw",e)}i(void 0)}))}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=h().bind(g()),T=[{display:"Relevance",value:v.Hj.Relevance},{display:"Published",value:v.Hj.Created}];function S(e){var t=e.sortType,r=e.setSortType,n=e.sortDirection,a=e.setSortDirection,o=(0,m.useRouter)(),c=String.fromCharCode(n===v.jN.Ascending?9650:9660);function l(e,t){return d.apply(this,arguments)}function d(){return(d=x(i().mark((function e(t,s){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=4,(0,u.qX)(location,["sort"]);case 4:n=e.sent,n="".concat(n,"&sort=").concat(t),r(t),e.next=15;break;case 9:if(!s){e.next=15;break}return e.next=12,(0,u.qX)(location,["sortOrder"]);case 12:n=e.sent,n="".concat(n,"&sortOrder=").concat(s),a(s);case 15:o.push(n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.jsxs)("div",{className:g().sortList,children:[(0,s.jsx)("label",{className:g().sortLabel,children:"Sort"}),T.map((function(e,r){var a,i=b((_(a={},g().selected,e.value===t),_(a,g().sorted,!0),a));return(0,s.jsxs)(p.Z,{className:i,size:"small",onClick:function(){var r;(r=e.value)===t?n===v.jN.Descending?l(null,v.jN.Ascending):l(null,v.jN.Descending):l(r,null)},children:[e.display,e.value===t?(0,s.jsx)("span",{className:g().direction,children:c}):null]},r)}))]})}var w=r(7810),L=r(51916),P=r(84015),$=r.n(P);function j(e,t,r,s,n,a,i){try{var o=e[a](i),c=o.value}catch(l){return void r(l)}o.done?t(c):Promise.resolve(c).then(s,n)}function k(e){var t=e.setTotalResults,r=e.setTotalPagesNumber,a=(0,m.useRouter)(),p=(0,n.useState)(),d=p[0],g=p[1],f=(0,w.o)().chainIds,h=(0,n.useState)(),v=h[0],y=h[1],x=(0,n.useState)(),_=x[0],b=x[1],T=(0,n.useState)(),P=T[0],k=T[1],N=(0,n.useState)(),C=N[0],O=N[1],R=(0,n.useState)(),E=R[0],U=R[1],A=(0,n.useState)(),W=A[0],X=A[1],D=(0,L.U)();(0,n.useEffect)((function(){var e=c.parse(location.search),t=e.sort,r=e.sortOrder,s=e.serviceType,n=e.accessType;g(e),k(s),O(n),X(r),U(t)}),[a]);var I=(0,n.useCallback)((function(e){var t=a.pathname,r=a.query,s=(0,u.GW)(t+"?"+JSON.stringify(r).replace(/"|{|}/g,"").replace(/:/g,"=").replace(/,/g,"&"),"page","".concat(e));return a.push(s)}),[a]),q=(0,n.useCallback)(function(){var e,s=(e=i().mark((function e(s,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t(void 0),e.next=4,(0,u.O7)(s,n,D());case 4:a=e.sent,y(a),t((null===a||void 0===a?void 0:a.totalResults)||0),r((null===a||void 0===a?void 0:a.totalPages)||0),b(!1);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(s,n){var a=e.apply(t,r);function i(e){j(a,s,n,i,o,"next",e)}function o(e){j(a,s,n,i,o,"throw",e)}i(void 0)}))});return function(e,t){return s.apply(this,arguments)}}(),[D,r,t]);return(0,n.useEffect)((function(){if(d&&v){var e=d.page;v.totalPages<Number(e)&&I(1)}}),[d,v,I]),(0,n.useEffect)((function(){d&&f&&q(d,f)}),[d,f,D,q]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:$().search,children:(0,s.jsxs)("div",{className:$().row,children:[(0,s.jsx)(l.Z,{serviceType:P,accessType:C,setServiceType:k,setAccessType:O,addFiltersToUrl:!0}),(0,s.jsx)(S,{sortType:E,sortDirection:W,setSortType:U,setSortDirection:X})]})}),(0,s.jsx)("div",{className:$().results,children:(0,s.jsx)(o.Z,{assets:null===v||void 0===v?void 0:v.results,showPagination:!0,isLoading:_,page:null===v||void 0===v?void 0:v.page,totalPages:null===v||void 0===v?void 0:v.totalPages,onPageChange:I})})]})}var N=r(16240),C=r(7390),O=r(23307),R=r(3283),E=r.n(R);function U(){var e=(0,m.useRouter)(),t=e.query,r=t.text,a=t.owner,i=t.tags,o=t.categories,c=(0,n.useState)(),l=c[0],u=c[1],p=(0,n.useState)(),d=p[0],g=p[1],f=(E().utils.isAddress(r)?(0,C.XC)(r):r)||i||o,h=a?"Published by ".concat((0,C.XC)(a)):"".concat(void 0!==l?f&&" "!==f?0===l?"No results":l+(l>1?" results":" result")+" for "+f:l+" results":"Searching...");return(0,s.jsx)(N.Z,{title:d>O.xF?">10000 results ".concat(f&&" "!==f?"for ".concat(f):""):h,description:d&&d>O.xF?"**Results displayed are limited to the first 10k, please refine your search.**":void 0,uri:e.route,children:(0,s.jsx)(k,{setTotalResults:u,setTotalPagesNumber:g})})}},84015:function(e){e.exports={row:"Search_row__Bi2SW"}},98627:function(e){e.exports={sortList:"sort_sortList__imYHl",sortLabel:"sort_sortLabel__6z11j Label_label__AiTEy",sorted:"sort_sorted__M3JXI",selected:"sort_selected__Xpn2Y",direction:"sort_direction__Qc1Jr"}},26525:function(e){e.exports=function(e,t){(t=t||{}).listUnicodeChar=!!t.hasOwnProperty("listUnicodeChar")&&t.listUnicodeChar,t.stripListLeaders=!t.hasOwnProperty("stripListLeaders")||t.stripListLeaders,t.gfm=!t.hasOwnProperty("gfm")||t.gfm,t.useImgAltText=!t.hasOwnProperty("useImgAltText")||t.useImgAltText,t.abbr=!!t.hasOwnProperty("abbr")&&t.abbr,t.replaceLinksWithURL=!!t.hasOwnProperty("replaceLinksWithURL")&&t.replaceLinksWithURL,t.htmlTagsToSkip=t.hasOwnProperty("htmlTagsToSkip")?t.htmlTagsToSkip:[];var r=e||"";r=r.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{t.stripListLeaders&&(r=t.listUnicodeChar?r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar+" $1"):r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(r=r.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),t.abbr&&(r=r.replace(/\*\[.*\]:.*\n/,"")),r=r.replace(/<[^>]*>/g,"");var s=new RegExp("<[^>]*>","g");if(t.htmlTagsToSkip.length>0){var n="(?!"+t.htmlTagsToSkip.join("|")+")";s=new RegExp("<"+n+"[^>]*>","ig")}r=r.replace(s,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,t.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,t.replaceLinksWithURL?"$2":"$1").replace(/^\s{0,3}>\s?/gm,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} #{0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(a){return console.error(a),e}return r}}},function(e){e.O(0,[966,674,485,774,888,179],(function(){return t=8266,e(e.s=t);var t}));var t=e.O();_N_E=t}]);