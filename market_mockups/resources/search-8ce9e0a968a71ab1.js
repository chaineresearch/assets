(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8266:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return s(52736)}])},52736:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return X}});var r=s(85893),n=s(67294),a=s(47568),o=s(34051),c=s.n(o),i=s(26655),u=s(17563),l=s(21485),d=s(14924),p=s(43933),v=s(76047),f=s(36218),h=s.n(f),_=s(47166),g=s.n(_),x=s(14316),y=s(11163),N=g().bind(h()),b=[{display:"Relevance",value:x.Hj.Relevance},{display:"Published",value:x.Hj.Created}];function j(e){var t=e.sortType,s=e.setSortType,n=e.sortDirection,o=e.setSortDirection,i=(0,y.useRouter)(),u=String.fromCharCode(n===x.jN.Ascending?9650:9660);function l(e,t){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=4,(0,p.qX)(location,["sort"]);case 4:n=e.sent,n="".concat(n,"&sort=").concat(t),s(t),e.next=15;break;case 9:if(!r){e.next=15;break}return e.next=12,(0,p.qX)(location,["sortOrder"]);case 12:n=e.sent,n="".concat(n,"&sortOrder=").concat(r),o(r);case 15:i.push(n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:h().sortList,children:[(0,r.jsx)("label",{className:h().sortLabel,children:"Sort"}),b.map((function(e,s){var a,o=N((a={},(0,d.Z)(a,h().selected,e.value===t),(0,d.Z)(a,h().sorted,!0),a));return(0,r.jsxs)(v.Z,{className:o,size:"small",onClick:function(){var s;(s=e.value)===t?n===x.jN.Descending?l(null,x.jN.Ascending):l(null,x.jN.Descending):l(s,null)},children:[e.display,e.value===t?(0,r.jsx)("span",{className:h().direction,children:u}):null]},s)}))]})}var S=s(49973),m=s(79401),T=s(77142),w=s.n(T);function k(e){var t=e.setTotalResults,s=e.setTotalPagesNumber,o=(0,y.useRouter)(),d=(0,n.useState)(),v=d[0],f=d[1],h=(0,S.o)().chainIds,_=(0,n.useState)(),g=_[0],x=_[1],N=(0,n.useState)(),b=N[0],T=N[1],k=(0,n.useState)(),P=k[0],C=k[1],E=(0,n.useState)(),R=E[0],L=E[1],X=(0,n.useState)(),Z=X[0],O=X[1],D=(0,n.useState)(),A=D[0],q=D[1],F=(0,m.U)();(0,n.useEffect)((function(){var e=u.parse(location.search),t=e.sort,s=e.sortOrder,r=e.serviceType,n=e.accessType;f(e),C(r),L(n),q(s),O(t)}),[o]);var H=(0,n.useCallback)((function(e){var t=o.pathname,s=o.query,r=(0,p.GW)(t+"?"+JSON.stringify(s).replace(/"|{|}/g,"").replace(/:/g,"=").replace(/,/g,"&"),"page","".concat(e));return o.push(r)}),[o]),J=(0,n.useCallback)(function(){var e=(0,a.Z)(c().mark((function e(r,n){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t(void 0),e.next=4,(0,p.O7)(r,n,F());case 4:a=e.sent,x(a),t((null===a||void 0===a?void 0:a.totalResults)||0),s((null===a||void 0===a?void 0:a.totalPages)||0),T(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),[F,s,t]);return(0,n.useEffect)((function(){if(v&&g){var e=v.page;g.totalPages<Number(e)&&H(1)}}),[v,g,H]),(0,n.useEffect)((function(){v&&h&&J(v,h)}),[v,h,F,J]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:w().search,children:(0,r.jsxs)("div",{className:w().row,children:[(0,r.jsx)(l.Z,{serviceType:P,accessType:R,setServiceType:C,setAccessType:L,addFiltersToUrl:!0}),(0,r.jsx)(j,{sortType:Z,sortDirection:A,setSortType:O,setSortDirection:q})]})}),(0,r.jsx)("div",{className:w().results,children:(0,r.jsx)(i.Z,{assets:null===g||void 0===g?void 0:g.results,showPagination:!0,isLoading:b,page:null===g||void 0===g?void 0:g.page,totalPages:null===g||void 0===g?void 0:g.totalPages,onPageChange:H})})]})}var P=s(229),C=s(45480),E=s(70242),R=s(3283),L=s.n(R);function X(){var e=(0,y.useRouter)(),t=e.query,s=t.text,a=t.owner,o=t.tags,c=t.categories,i=(0,n.useState)(),u=i[0],l=i[1],d=(0,n.useState)(),p=d[0],v=d[1],f=(L().utils.isAddress(s)?(0,C.XC)(s):s)||o||c,h=a?"Published by ".concat((0,C.XC)(a)):"".concat(void 0!==u?f&&" "!==f?0===u?"No results":u+(u>1?" results":" result")+" for "+f:u+" results":"Searching...");return(0,r.jsx)(P.Z,{title:p>E.xF?">10000 results ".concat(f&&" "!==f?"for ".concat(f):""):h,description:p&&p>E.xF?"**Results displayed are limited to the first 10k, please refine your search.**":void 0,uri:e.route,children:(0,r.jsx)(k,{setTotalResults:l,setTotalPagesNumber:v})})}},77142:function(e){e.exports={row:"Search_row__Bi2SW"}},36218:function(e){e.exports={sortList:"sort_sortList__imYHl",sortLabel:"sort_sortLabel__6z11j Label_label__AiTEy",sorted:"sort_sorted__M3JXI",selected:"sort_selected__Xpn2Y",direction:"sort_direction__Qc1Jr"}}},function(e){e.O(0,[38,540,397,774,888,179],(function(){return t=8266,e(e.s=t);var t}));var t=e.O();_N_E=t}]);